<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Validate and display simple and complex forms, casting forms to business objects and vice versa.">  
    <link rel="canonical" href="https://docs.laminas.dev/file-upload/">
    <link rel="shortcut icon" href="/img/trademark-laminas-foundation-rgb.svg">

    <title>File Uploads - laminas-form - Laminas Docs</title>

    <link rel="stylesheet" href="/css/styles.css">
</head>
<body id="page-top" class="components">

    
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        
        <a class="logo-link navbar-brand offset-md-2" href="https://getlaminas.org/" data-tooltip data-placement="bottom" title="Go to the Laminas homepage">
            <img src="../img/laminas-foundation-white.svg" height="28" alt="Lamnias">
        </a>
        <a class="navbar-title" href="https://docs.laminas.dev/" data-tooltip data-placement="bottom" title="Go to the Laminas Documentation">
            Documentation
        </a>

        
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a href="https://getlaminas.org/about" class="nav-link">About</a>
                </li>
                <li class="nav-item">
                    <a href="https://getlaminas.org/blog" class="nav-link">Blog</a>
                </li>
                <li class="nav-item">
                    <a href="https://docs.laminas.dev" class="nav-link">All Docs</a>
                </li>
                <li class="nav-item">
                    <a href="https://getlaminas.org/participate" class="nav-link">Community</a>
                </li>
            </ul>

            
            
                <div class="d-block d-sm-none">
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="..">laminas-form</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item ">
                                <a href="../intro/" class="subnavigation__link">Introduction</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item ">
                                <a href="../quick-start/" class="subnavigation__link">Quick Start</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">Reference</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Elements</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../element/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/element/" class="subnavigation__link">Element</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/button/" class="subnavigation__link">button</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/captcha/" class="subnavigation__link">CAPTCHA</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/checkbox/" class="subnavigation__link">checkbox</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/collection/" class="subnavigation__link">Collection</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/color/" class="subnavigation__link">color</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/csrf/" class="subnavigation__link">CSRF</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/date/" class="subnavigation__link">date</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/date-time/" class="subnavigation__link">datetime</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/date-time-local/" class="subnavigation__link">datetime-local</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/email/" class="subnavigation__link">email</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/file/" class="subnavigation__link">file</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/hidden/" class="subnavigation__link">hidden</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/image/" class="subnavigation__link">image</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/month/" class="subnavigation__link">month</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/month-select/" class="subnavigation__link">MonthSelect</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/multi-checkbox/" class="subnavigation__link">MultiCheckbox</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/number/" class="subnavigation__link">number</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/password/" class="subnavigation__link">password</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/radio/" class="subnavigation__link">radio</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/range/" class="subnavigation__link">range</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/search/" class="subnavigation__link">search</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/select/" class="subnavigation__link">select</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/submit/" class="subnavigation__link">submit</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/tel/" class="subnavigation__link">tel</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/text/" class="subnavigation__link">text</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/textarea/" class="subnavigation__link">textarea</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/time/" class="subnavigation__link">time</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/url/" class="subnavigation__link">url</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/week/" class="subnavigation__link">week</a>
    </li>

            
        </ul>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../collections/" class="subnavigation__link">Collections</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">File Uploads</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">View Helpers</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/abstract-helper/" class="subnavigation__link">AbstractHelper</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-input/" class="subnavigation__link">formInput</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-element/" class="subnavigation__link">formElement</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-element-errors/" class="subnavigation__link">formElementErrors</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-label/" class="subnavigation__link">formLabel</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-row/" class="subnavigation__link">formRow</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-collection/" class="subnavigation__link">formCollection</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form/" class="subnavigation__link">form</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-button/" class="subnavigation__link">formButton</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-captcha/" class="subnavigation__link">formCaptcha</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-checkbox/" class="subnavigation__link">formCheckbox</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-color/" class="subnavigation__link">formColor</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-date/" class="subnavigation__link">formDate</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-date-time/" class="subnavigation__link">formDateTime</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-date-time-local/" class="subnavigation__link">formDateTimeLocal</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-email/" class="subnavigation__link">formEmail</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-file/" class="subnavigation__link">formFile</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-hidden/" class="subnavigation__link">formHidden</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-image/" class="subnavigation__link">formImage</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-month/" class="subnavigation__link">formMonth</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-month-select/" class="subnavigation__link">formMonthSelect</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-multicheckbox/" class="subnavigation__link">formMultiCheckbox</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-number/" class="subnavigation__link">formNumber</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-password/" class="subnavigation__link">formPassword</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-radio/" class="subnavigation__link">formRadio</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-range/" class="subnavigation__link">formRange</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-reset/" class="subnavigation__link">formReset</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-search/" class="subnavigation__link">formSearch</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-select/" class="subnavigation__link">formSelect</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-submit/" class="subnavigation__link">formSubmit</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-tel/" class="subnavigation__link">formTel</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-text/" class="subnavigation__link">formText</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-textarea/" class="subnavigation__link">formTextarea</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-time/" class="subnavigation__link">formTime</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-url/" class="subnavigation__link">formUrl</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-week/" class="subnavigation__link">formWeek</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Upload Progress</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/upload-progress-helpers/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-file-apc-progress/" class="subnavigation__link">formFileApcProgress</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-file-session-progress/" class="subnavigation__link">formFileSessionProgress</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-file-upload-progress/" class="subnavigation__link">formFileUploadProgress</a>
    </li>

            
        </ul>
    </li>

            
        </ul>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../advanced/" class="subnavigation__link">Advanced</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            
        </ul>
    </div>

                </div>
            

            
            <div class="d-block d-sm-none">
                <div class="component-selector">
    
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
            </div>
        </div>
    </div>
</nav>

    
    <header class="header">
    <div class="container">
        <div class="row">

            
            <div class="col-6 offset-md-2">
                <h1 class="header__title">
                    Components

                    
                        <small class="header__subtitle">laminas-form</small>
                    
                </h1>
            </div>

            
            <div class="col-4 text-sm-right">
                
                    

                    <a href="#" class="header__link header__link--search" data-toggle="modal" data-target="#mkdocs_search_modal" title="Open search">
                        <i class="fa fa-search"></i> Search
                    </a>
                    <a href="https://github.com/laminas/laminas-form/" class="header__link header__link--github" title="Go to repository of laminas-form">
                        <i class="fa fa-github"></i> GitHub
                    </a>
                
            </div>
        </div>
    </div>
</header>

    
    <div class="container">
        <div class="row">
            <div class="col-md-2 col-sm-12">
                
    

    
    
        <div class="toc">
            <h6 class="toc__headline">On this page</h6>
            <ul class="toc__list">
                
                    <li class="toc__entry">
                        <a href="#basic-example" class="toc__link">Basic Example</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#file-post-redirect-get-plugin" class="toc__link">File Post-Redirect-Get Plugin</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#html5-multi-file-uploads" class="toc__link">HTML5 Multi-File Uploads</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#upload-progress" class="toc__link">Upload Progress</a>
                    </li>
                
                    <li class="toc__entry">
                        <a href="#additional-info" class="toc__link">Additional Info</a>
                    </li>
                
            </ul>
        </div>
    

            </div>
            <div class="col-md-7 col-sm-12 content" role="main" data-spy="scroll" data-target=".toc">
                
                    <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        
            <li class="breadcrumb-item"><a href="">Overview</a></li>

            
                <li class="breadcrumb-item"><a href="..">laminas-form</a></li>

                
                    
                        
                        
                            <li class="breadcrumb-item">Reference</li>
                        
                    
                

                <li class="breadcrumb-item active" aria-current="page">File Uploads</li>
            
        
    </ol>
</nav>






    
    
        <h2 class="chapter__headline">Reference</h2>
    

    <h1 id="file-uploads">File Uploads</h1>
<p>laminas-form provides support for file uploading by using features from each of
<a href="https://github.com/laminas/laminas-inputfilter">laminas-inputfilter</a>,
<a href="https://github.com/laminas/laminas-validator">laminas-validator</a>,
<a href="https://docs.laminas.dev/laminas-filter">laminas-filter</a>, and
<a href="https://github.com/laminas/laminas-progressbar">laminas-progressbar</a>. These
reusable framework components provide a convenient and secure way for handling
file uploads in your projects.</p>
<blockquote>
<h3>Limited to POST uploads</h3>
<p>The file upload features described here are specifically for forms using the
<code>POST</code> method.  laminas-form does not currently provide specific support for
handling uploads via the <code>PUT</code> method, but it is possible with vanilla PHP.
See the <a href="http://php.net/features.file-upload.put-method">PUT Method Support</a>
in the PHP documentation for more information.</p>
</blockquote>
<h2 id="basic-example">Basic Example</h2>
<p>Handling file uploads is <em>essentially</em> the same as how you would use <code>Laminas\Form</code>
for form processing, but with some slight caveats that will be described below.</p>
<p>In this example we will:</p>
<ul>
<li>Define a <strong>Form</strong> for backend validation and filtering.</li>
<li>Create a <strong>view template</strong> with a <code>&lt;form&gt;</code> containing a file input.</li>
<li>Process the form within a <strong>Controller action</strong> (laminas-mvc) or in a <strong>Request Handler</strong> (Mezzio).</li>
</ul>
<h3>The Form and InputFilter</h3>
<p>Here we define a <code>Laminas\Form\Element\File</code> input in a <code>Form</code> extension named
<code>UploadForm</code>.</p>
<p> <div class=codehilite><pre><span></span><span class=x>use Laminas\Form\Element;</span>
<span class=x>use Laminas\Form\Form;</span>

<span class=x>class UploadForm extends Form</span>
<span class=x>{</span>
<span class=x>    public function __construct($name = null, $options = [])</span>
<span class=x>    {</span>
<span class=x>        parent::__construct($name, $options);</span>
<span class=x>        $this-&gt;addElements();</span>
<span class=x>    }</span>

<span class=x>    public function addElements()</span>
<span class=x>    {</span>
<span class=x>        // File Input</span>
<span class=x>        $file = new Element\File(&#39;image-file&#39;);</span>
<span class=x>        $file-&gt;setLabel(&#39;Avatar Image Upload&#39;);</span>
<span class=x>        $file-&gt;setAttribute(&#39;id&#39;, &#39;image-file&#39;);</span>

<span class=x>        $this-&gt;add($file);</span>
<span class=x>    }</span>
<span class=x>}</span>
</pre></div></p>
<p>The <code>File</code> element provides several automated features:</p>
<ul>
<li>The form's <code>enctype</code> will automatically be set to <code>multipart/form-data</code> when
  the form's <code>prepare()</code> method is called.</li>
<li>The file element's default input specification will create the correct <code>Input</code>
  type: <a href="https://docs.laminas.dev/laminas-inputfilter/file-input/"><code>Laminas\InputFilter\FileInput</code></a>.</li>
<li>The <code>FileInput</code> will automatically prepend an <a href="https://docs.laminas.dev/laminas-validator/validators/file/upload-file/">UploadFile validator</a>
  to securely validate that the file is actually an uploaded file, and to report
  any upload errors to the user.</li>
</ul>
<h3>The View Template</h3>
<p>In the view template, we render the <code>&lt;form&gt;</code>, a file input (with label and
errors), and a submit button.</p>
<p> <div class=codehilite><pre><span></span><span class=x>&lt;!-- File: upload-form.phtml --&gt;</span>
<span class=cp>&lt;?php</span>
    <span class=nv>$form</span><span class=o>-&gt;</span><span class=na>prepare</span><span class=p>();</span> <span class=c1>// The correct enctype is set here</span>
    <span class=nv>$fileElement</span> <span class=o>=</span> <span class=nv>$form</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=s1>&#39;image-file&#39;</span><span class=p>);</span>
    <span class=k>echo</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>form</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>openTag</span><span class=p>(</span><span class=nv>$form</span><span class=p>);</span>
<span class=cp>?&gt;</span><span class=x></span>

<span class=x>    &lt;div class=&quot;form-element&quot;&gt;</span>
<span class=x>        </span><span class=cp>&lt;?</span><span class=o>=</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>formLabel</span><span class=p>(</span><span class=nv>$fileElement</span><span class=p>)</span> <span class=cp>?&gt;</span><span class=x></span>
<span class=x>        </span><span class=cp>&lt;?</span><span class=o>=</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>formFile</span><span class=p>(</span><span class=nv>$fileElement</span><span class=p>)</span> <span class=cp>?&gt;</span><span class=x></span>
<span class=x>        </span><span class=cp>&lt;?</span><span class=o>=</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>formElementErrors</span><span class=p>(</span><span class=nv>$fileElement</span><span class=p>)</span> <span class=cp>?&gt;</span><span class=x></span>
<span class=x>    &lt;/div&gt;</span>

<span class=x>    &lt;button&gt;Submit&lt;/button&gt;</span>

<span class=cp>&lt;?</span><span class=o>=</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>form</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>closeTag</span><span class=p>()</span> <span class=cp>?&gt;</span><span class=x></span>
</pre></div></p>
<p>When rendered, the HTML should look similar to:</p>
<p> <div class=codehilite><pre><span></span><span class=p>&lt;</span><span class=nt>form</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;upload-form&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;upload-form&quot;</span> <span class=na>method</span><span class=o>=</span><span class=s>&quot;post&quot;</span> <span class=na>enctype</span><span class=o>=</span><span class=s>&quot;multipart/form-data&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;form-element&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>label</span> <span class=na>for</span><span class=o>=</span><span class=s>&quot;image-file&quot;</span><span class=p>&gt;</span>Avatar Image Upload<span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;file&quot;</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;image-file&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;image-file&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>

    <span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>Submit<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>form</span><span class=p>&gt;</span>
</pre></div></p>
<h3>The Controller Action</h3>
<p>When using laminas-mvc, the final step will be to instantiate the <code>UploadForm</code> and
process any postbacks in a controller action.</p>
<p>The form processing in the controller action will be similar to normal forms,
<em>except</em> that you <strong>must</strong> merge the <code>$_FILES</code> information in the request with
the other post data.</p>
<p> <div class=codehilite><pre><span></span><span class=x>public function uploadFormAction()</span>
<span class=x>{</span>
<span class=x>    $form = new UploadForm(&#39;upload-form&#39;);</span>

<span class=x>    $request = $this-&gt;getRequest();</span>
<span class=x>    if ($request-&gt;isPost()) {</span>
<span class=x>        // Make certain to merge the $_FILES info!</span>
<span class=x>        $post = array_merge_recursive(</span>
<span class=x>            $request-&gt;getPost()-&gt;toArray(),</span>
<span class=x>            $request-&gt;getFiles()-&gt;toArray()</span>
<span class=x>        );</span>

<span class=x>        $form-&gt;setData($post);</span>
<span class=x>        if ($form-&gt;isValid()) {</span>
<span class=x>            $data = $form-&gt;getData();</span>

<span class=x>            // Form is valid, save the form!</span>
<span class=x>            return $this-&gt;redirect()-&gt;toRoute(&#39;upload-form/success&#39;);</span>
<span class=x>        }</span>
<span class=x>    }</span>

<span class=x>    return [&#39;form&#39; =&gt; $form];</span>
<span class=x>}</span>
</pre></div></p>
<p>Upon a successful file upload, <code>$form-&gt;getData()</code> would return:</p>
<p> <div class=codehilite><pre><span></span><span class=x>array(1) {</span>
<span class=x>    [&quot;image-file&quot;] =&gt; array(5) {</span>
<span class=x>        [&quot;name&quot;]     =&gt; string(11) &quot;myimage.png&quot;</span>
<span class=x>        [&quot;type&quot;]     =&gt; string(9)  &quot;image/png&quot;</span>
<span class=x>        [&quot;tmp_name&quot;] =&gt; string(22) &quot;/private/tmp/phpgRXd58&quot;</span>
<span class=x>        [&quot;error&quot;]    =&gt; int(0)</span>
<span class=x>        [&quot;size&quot;]     =&gt; int(14908679)</span>
<span class=x>    }</span>
<span class=x>}</span>
</pre></div></p>
<blockquote>
<h3>Using nested array notation for uploads</h3>
<p>It is suggested that you always use the <code>Laminas\Http\PhpEnvironment\Request</code>
object to retrieve and merge the <code>$_FILES</code> information with the form, instead
of using <code>$_FILES</code> directly,  due to how the file information is
mapped in the <code>$_FILES</code> array:</p>
<pre class=codehilite><code class=language-php>
// A $_FILES array with single input and multiple files:
array(1) {
    [&quot;image-file&quot;]=array(2) {
        [&quot;name&quot;]=array(2) {
            [0]=string(9)&quot;file0.txt&quot;
            [1]=string(9)&quot;file1.txt&quot;
        }
        [&quot;type&quot;]=array(2) {
            [0]=string(10)&quot;text/plain&quot;
            [1]=string(10)&quot;text/html&quot;
        }
    }
}

// How Laminas\Http\PhpEnvironment\Request remaps the $_FILES array:
array(1) {
    [&quot;image-file&quot;]=array(2) {
        [0]=array(2) {
            [&quot;name&quot;]=string(9)&quot;file0.txt&quot;
            [&quot;type&quot;]=string(10)&quot;text/plain&quot;
        },
        [1]=array(2) {
            [&quot;name&quot;]=string(9)&quot;file1.txt&quot;
            [&quot;type&quot;]=string(10)&quot;text/html&quot;
        }
    }
}
</code></pre>
<p><a href="https://docs.laminas.dev/laminas-inputfilter/file-input/"><code>Laminas\InputFilter\FileInput</code></a> expects the file data be in this
re-mapped array format.</p>
<p>Note: <a href="http://www.php-fig.org/psr/psr-7/">PSR-7</a> also remaps the <code>$_FILES</code>
array in this way.</p>
</blockquote>
<h3>Mezzio Request Handler</h3>
<p>If you are using a <a href="https://www.php-fig.org/psr/psr-15/">PSR-15</a> request handler
with <a href="https://www.php-fig.org/psr/psr-7/">PSR-7</a> request payload, the final step
involves merging <code>$request-&gt;getParsedBody()</code> with
<code>$request-&gt;getUploadedFiles()</code>.</p>
<p> <div class=codehilite><pre><span></span><span class=x>public function handle(ServerRequestInterface $request) : ResponseInterface</span>
<span class=x>{</span>
<span class=x>    $form = new UploadForm(&#39;upload-form&#39;);</span>

<span class=x>    if ($request-&gt;getMethod() === &#39;POST&#39;) {</span>
<span class=x>        $post = array_merge_recursive(</span>
<span class=x>            $request-&gt;getParsedBody(),</span>
<span class=x>            $request-&gt;getUploadedFiles()</span>
<span class=x>        );</span>

<span class=x>        $form-&gt;setData($post);</span>

<span class=x>        if ($form-&gt;isValid()) {</span>
<span class=x>            $data = $form-&gt;getData();</span>

<span class=x>            // Form is valid, save the form!</span>

<span class=x>            return new RedirectResponse(&#39;upload-form/success&#39;);</span>
<span class=x>        }</span>
<span class=x>    }</span>

<span class=x>    return new HtmlResponse(</span>
<span class=x>        $this-&gt;template-&gt;render(&#39;app::page-template&#39;, [</span>
<span class=x>            &#39;form&#39; =&gt; $form,</span>
<span class=x>        ]);</span>
<span class=x>    );</span>
<span class=x>}</span>
</pre></div></p>
<p>Upon a successful file upload, <code>$form-&gt;getData()</code> would return array including
the file field name as a key, and a new instance of <code>UploadedFileInterface</code> as
its value.</p>
<blockquote>
<h3>Further operations on the uploaded file</h3>
<p>After running <code>isValid()</code> on the form instance, you should no longer trust the
<code>UploadedFileInterface</code> instance stored in the PSR-7 <code>$request</code> to perform further
operations on the uploaded file. The file may be moved by one of the filters
attached to form input, but since the request is immutable, the change will not
be reflected in it. Therefore, after validation, always use the file
information retrieved from <code>$form-&gt;getData()</code>, <em>not</em> from
<code>$request-&gt;getUploadedFiles()</code>.</p>
</blockquote>
<h2 id="file-post-redirect-get-plugin">File Post-Redirect-Get Plugin</h2>
<p>When using other standard form inputs (i.e. <code>text</code>, <code>checkbox</code>, <code>select</code>, etc.)
along with file inputs in a form, you can encounter a situation where some
inputs may become invalid and the user must re-select the file and re-upload.
PHP will delete uploaded files from the temporary directory at the end of the
request if it has not been moved away or renamed. Re-uploading a valid file each
time another form input is invalid is inefficient and annoying to users.</p>
<p>One strategy to get around this is to split the form into multiple forms. One
form for the file upload inputs and another for the other standard inputs.</p>
<p>When you cannot separate the forms, the <a href="https://docs.laminas.dev/laminas-mvc-plugin-fileprg/">File Post-Redirect-Get
Plugin</a> can be used to
manage the file inputs and save off valid uploads until the entire form is
valid.</p>
<p>Changing our earlier example to use the <code>fileprg()</code> plugin will require two
changes.</p>
<h3>RenameUpload filter</h3>
<p>First, we need to add a <code>RenameUpload</code> filter to our form's file input, with
details on where the valid files should be stored:</p>
<p> <div class=codehilite><pre><span></span><span class=x>use Laminas\InputFilter;</span>
<span class=x>use Laminas\Form\Element;</span>
<span class=x>use Laminas\Form\Form;</span>

<span class=x>class UploadForm extends Form</span>
<span class=x>{</span>
<span class=x>    public function __construct($name = null, $options = [])</span>
<span class=x>    {</span>
<span class=x>        parent::__construct($name, $options);</span>
<span class=x>        $this-&gt;addElements();</span>
<span class=x>        $this-&gt;addInputFilter();</span>
<span class=x>    }</span>

<span class=x>    public function addElements()</span>
<span class=x>    {</span>
<span class=x>        // File Input</span>
<span class=x>        $file = new Element\File(&#39;image-file&#39;);</span>
<span class=x>        $file-&gt;setLabel(&#39;Avatar Image Upload&#39;)</span>
<span class=x>        $file-&gt;setAttribute(&#39;id&#39;, &#39;image-file&#39;);</span>

<span class=x>        $this-&gt;add($file);</span>
<span class=x>    }</span>

<span class=x>    public function addInputFilter()</span>
<span class=x>    {</span>
<span class=x>        $inputFilter = new InputFilter\InputFilter();</span>

<span class=x>        // File Input</span>
<span class=x>        $fileInput = new InputFilter\FileInput(&#39;image-file&#39;);</span>
<span class=x>        $fileInput-&gt;setRequired(true);</span>
<span class=x>        $fileInput-&gt;getFilterChain()-&gt;attachByName(</span>
<span class=x>            &#39;filerenameupload&#39;,</span>
<span class=x>            [</span>
<span class=x>                &#39;target&#39;    =&gt; &#39;./data/tmpuploads/avatar.png&#39;,</span>
<span class=x>                &#39;randomize&#39; =&gt; true,</span>
<span class=x>            ]</span>
<span class=x>        );</span>
<span class=x>        $inputFilter-&gt;add($fileInput);</span>

<span class=x>        $this-&gt;setInputFilter($inputFilter);</span>
<span class=x>    }</span>
<span class=x>}</span>
</pre></div></p>
<p>The <code>filerenameupload</code> options above would cause an uploaded file to be
renamed and moved to: <code>./data/tmpuploads/avatar_4b3403665fea6.png</code>.</p>
<p>See the <a href="http://docs.laminas.dev/laminas-filter/file/#renameupload">RenameUpload filter</a>
documentation for more information on its supported options.</p>
<blockquote>
<h3>Further operations on the uploaded file</h3>
<p>If the file is coming in as a PSR-7 payload, the move operation will be
performed on the passed <code>UploadedFileInterface</code> instance. Therefore, it will
contain an expired stream and outdated target file name. After running this filter,
<em>do not use</em> the request object to get further details about the uploaded file;
use the new instance of <code>UploadedFileInterface</code> returned from the filter
invocation.</p>
</blockquote>
<h3>Call the fileprg plugin</h3>
<p>Next, we need to update our controller action to use the <code>fileprg</code> plugin:</p>
<p> <div class=codehilite><pre><span></span><span class=x>public function uploadFormAction()</span>
<span class=x>{</span>
<span class=x>    $form     = new UploadForm(&#39;upload-form&#39;);</span>
<span class=x>    $tempFile = null;</span>

<span class=x>    $prg = $this-&gt;fileprg($form);</span>

<span class=x>    if ($prg instanceof \Laminas\Http\PhpEnvironment\Response) {</span>
<span class=x>        return $prg; // Return PRG redirect response</span>
<span class=x>    }</span>

<span class=x>    if (is_array($prg)) {</span>
<span class=x>        if ($form-&gt;isValid()) {</span>
<span class=x>            $data = $form-&gt;getData();</span>

<span class=x>            // Form is valid, save the form!</span>
<span class=x>            return $this-&gt;redirect()-&gt;toRoute(&#39;upload-form/success&#39;);</span>
<span class=x>        }</span>

<span class=x>        // Form not valid, but file uploads might be valid...</span>
<span class=x>        // Get the temporary file information to show the user in the view</span>
<span class=x>        $fileErrors = $form-&gt;get(&#39;image-file&#39;)-&gt;getMessages();</span>

<span class=x>        if (empty($fileErrors)) {</span>
<span class=x>            $tempFile = $form-&gt;get(&#39;image-file&#39;)-&gt;getValue();</span>
<span class=x>        }</span>
<span class=x>    }</span>

<span class=x>    return [</span>
<span class=x>        &#39;form&#39;     =&gt; $form,</span>
<span class=x>        &#39;tempFile&#39; =&gt; $tempFile,</span>
<span class=x>    ];</span>
<span class=x>}</span>
</pre></div></p>
<p>Behind the scenes, the <code>FilePRG</code> plugin will:</p>
<ul>
<li>Run the Form's filters, namely the <code>RenameUpload</code> filter, to move the files
  out of temporary storage.</li>
<li>Store the valid POST data in the session across requests.</li>
<li>Change the <code>required</code> flag of any file inputs that had valid uploads to
  <code>false</code>. This is so that form re-submissions without uploads will not cause
  validation errors.</li>
</ul>
<blockquote>
<h3>User notifications</h3>
<p>In the case of a partially valid form, it is up to the developer whether to
notify the user that files have been uploaded or not. For example, you may
wish to hide the form input and/or display the file information. These things
would be implementation details in the view or in a custom view helper. Just
note that neither the <code>FilePRG</code> plugin nor the <code>formFile</code> view helper will do
any automatic notifications or view changes when files have been successfully
uploaded.</p>
</blockquote>
<h2 id="html5-multi-file-uploads">HTML5 Multi-File Uploads</h2>
<p>With HTML5, we are able to select multiple files from a single file input using
the <code>multiple</code> attribute. Not all <a href="http://caniuse.com/#feat=forms">browsers support multiple file
uploads</a>, but the file input will safely remain
a single file upload for those browsers that do not support the feature.</p>
<p>To enable multiple file uploads in laminas-form, set the file element's
<code>multiple</code> attribute to true:</p>
<p> <div class=codehilite><pre><span></span><span class=x>use Laminas\InputFilter;</span>
<span class=x>use Laminas\Form\Element;</span>
<span class=x>use Laminas\Form\Form;</span>

<span class=x>class UploadForm extends Form</span>
<span class=x>{</span>
<span class=x>    public function __construct($name = null, $options = [])</span>
<span class=x>    {</span>
<span class=x>        parent::__construct($name, $options);</span>
<span class=x>        $this-&gt;addElements();</span>
<span class=x>        $this-&gt;addInputFilter();</span>
<span class=x>    }</span>

<span class=x>    public function addElements()</span>
<span class=x>    {</span>
<span class=x>        // File Input</span>
<span class=x>        $file = new Element\File(&#39;image-file&#39;);</span>
<span class=x>        $file-&gt;setLabel(&#39;Avatar Image Upload&#39;);</span>
<span class=x>        $file-&gt;setAttribute(&#39;id&#39;, &#39;image-file&#39;);</span>
<span class=x>        $file-&gt;setAttribute(&#39;multiple&#39;, true);  // Marking as multiple</span>

<span class=x>        $this-&gt;add($file);</span>
<span class=x>    }</span>

<span class=x>    public function addInputFilter()</span>
<span class=x>    {</span>
<span class=x>        $inputFilter = new InputFilter\InputFilter();</span>

<span class=x>        // File Input</span>
<span class=x>        $fileInput = new InputFilter\FileInput(&#39;image-file&#39;);</span>
<span class=x>        $fileInput-&gt;setRequired(true);</span>

<span class=x>        // Define validators and filters as if only one file was being uploaded.</span>
<span class=x>        // All files will be run through the same validators and filters</span>
<span class=x>        // automatically.</span>
<span class=x>        $fileInput-&gt;getValidatorChain()</span>
<span class=x>            -&gt;attachByName(&#39;filesize&#39;,      [&#39;max&#39; =&gt; 204800])</span>
<span class=x>            -&gt;attachByName(&#39;filemimetype&#39;,  [&#39;mimeType&#39; =&gt; &#39;image/png,image/x-png&#39;])</span>
<span class=x>            -&gt;attachByName(&#39;fileimagesize&#39;, [&#39;maxWidth&#39; =&gt; 100, &#39;maxHeight&#39; =&gt; 100]);</span>

<span class=x>        // All files will be renamed, e.g.:</span>
<span class=x>        //   ./data/tmpuploads/avatar_4b3403665fea6.png,</span>
<span class=x>        //   ./data/tmpuploads/avatar_5c45147660fb7.png</span>
<span class=x>        $fileInput-&gt;getFilterChain()-&gt;attachByName(</span>
<span class=x>            &#39;filerenameupload&#39;,</span>
<span class=x>            [</span>
<span class=x>                &#39;target&#39;    =&gt; &#39;./data/tmpuploads/avatar.png&#39;,</span>
<span class=x>                &#39;randomize&#39; =&gt; true,</span>
<span class=x>            ]</span>
<span class=x>        );</span>
<span class=x>        $inputFilter-&gt;add($fileInput);</span>

<span class=x>        $this-&gt;setInputFilter($inputFilter);</span>
<span class=x>    }</span>
<span class=x>}</span>
</pre></div></p>
<p>You do not need to do anything special with the validators and filters to
support multiple file uploads. All of the files that are uploaded will have the
same validators and filters run against them automatically (from logic within
<code>FileInput</code>). Define them as if a single file was being uploaded.</p>
<h2 id="upload-progress">Upload Progress</h2>
<p>While pure client-based upload progress meters are starting to become available
with <a href="http://www.w3.org/TR/progress-events/">HTML5's Progress Events</a>, not all
browsers have <a href="http://caniuse.com/#feat=xhr2">XMLHttpRequest level 2 support</a>.
For upload progress to work in a greater number of browsers (IE9 and below), you
must use a server-side progress solution.</p>
<p><code>Laminas\ProgressBar\Upload</code> provides handlers that can give you the actual state
of a file upload in progress. To use this feature, you need to choose one of the
<a href="https://docs.laminas.dev/laminas-progressbar/upload/">Upload Progress Handlers</a>
(APC, uploadprogress, or Session) and ensure that your server setup has the
appropriate extension or feature enabled.</p>
<p>Verify your <code>php.ini</code> <code>session.upload</code> settings before you begin:</p>
<p> <div class=codehilite><pre><span></span><span class=na>file_uploads</span> <span class=o>=</span> <span class=s>On</span>
<span class=na>post_max_size</span> <span class=o>=</span> <span class=s>50M</span>
<span class=na>upload_max_filesize</span> <span class=o>=</span> <span class=s>50M</span>
<span class=na>session.upload_progress.enabled</span> <span class=o>=</span> <span class=s>On</span>
<span class=na>session.upload_progress.freq</span> <span class=o>=</span>  <span class=s>&quot;1%&quot;</span>
<span class=na>session.upload_progress.min_freq</span> <span class=o>=</span> <span class=s>&quot;1&quot;</span>
<span class=c1>; Also make certain &#39;upload_tmp_dir&#39; is writable</span>
</pre></div></p>
<p>When uploading a file with a form POST, you must also include the progress
identifier in a hidden input. The <a href="../helper/upload-progress-helpers/">file upload progress view helpers</a>
provides a convenient way to add the hidden input based on your handler type.</p>
<p> <div class=codehilite><pre><span></span><span class=x>&lt;!-- File: upload-form.phtml --&gt;</span>
<span class=cp>&lt;?php</span>
    <span class=nv>$fileElement</span> <span class=o>=</span> <span class=nv>$form</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=s1>&#39;image-file&#39;</span><span class=p>);</span>
    <span class=nv>$form</span><span class=o>-&gt;</span><span class=na>prepare</span><span class=p>();</span>
    <span class=k>echo</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>form</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>openTag</span><span class=p>(</span><span class=nv>$form</span><span class=p>);</span>
    <span class=k>echo</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>formFileSessionProgress</span><span class=p>();</span> <span class=c1>// Must come before the file input!</span>
<span class=cp>?&gt;</span><span class=x></span>

<span class=x>    &lt;div class=&quot;form-element&quot;&gt;</span>
<span class=x>        </span><span class=cp>&lt;?</span><span class=o>=</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>formLabel</span><span class=p>(</span><span class=nv>$fileElement</span><span class=p>)</span> <span class=cp>?&gt;</span><span class=x></span>
<span class=x>        </span><span class=cp>&lt;?</span><span class=o>=</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>formFile</span><span class=p>(</span><span class=nv>$fileElement</span><span class=p>)</span> <span class=cp>?&gt;</span><span class=x></span>
<span class=x>        </span><span class=cp>&lt;?</span><span class=o>=</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>formElementErrors</span><span class=p>(</span><span class=nv>$fileElement</span><span class=p>)</span> <span class=cp>?&gt;</span><span class=x></span>
<span class=x>    &lt;/div&gt;</span>

<span class=x>    &lt;button&gt;Submit&lt;/button&gt;</span>

<span class=cp>&lt;?</span><span class=o>=</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>form</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>closeTag</span><span class=p>()</span> <span class=cp>?&gt;</span><span class=x></span>
</pre></div></p>
<p>When rendered, the HTML should look similar to:</p>
<p> <div class=codehilite><pre><span></span><span class=p>&lt;</span><span class=nt>form</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;upload-form&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;upload-form&quot;</span> <span class=na>method</span><span class=o>=</span><span class=s>&quot;post&quot;</span> <span class=na>enctype</span><span class=o>=</span><span class=s>&quot;multipart/form-data&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;hidden&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;progress_key&quot;</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;PHP_SESSION_UPLOAD_PROGRESS&quot;</span> <span class=na>value</span><span class=o>=</span><span class=s>&quot;12345abcde&quot;</span><span class=p>&gt;</span>

    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;form-element&quot;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>label</span> <span class=na>for</span><span class=o>=</span><span class=s>&quot;image-file&quot;</span><span class=p>&gt;</span>Avatar Image Upload<span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;file&quot;</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;image-file&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;image-file&quot;</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>

    <span class=p>&lt;</span><span class=nt>button</span><span class=p>&gt;</span>Submit<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
<span class=p>&lt;/</span><span class=nt>form</span><span class=p>&gt;</span>
</pre></div></p>
<p>There are a few different methods for getting progress information to the
browser (long vs. short polling). Here we will use short polling since it is
simpler and less taxing on server resources, though keep in mind it is not as
responsive as long polling.</p>
<p>When our form is submitted via AJAX, the browser will continuously poll the
server for upload progress.</p>
<p>The following is an example controller action which provides the progress
information:</p>
<p> <div class=codehilite><pre><span></span><span class=x>public function uploadProgressAction()</span>
<span class=x>{</span>
<span class=x>    $id = $this-&gt;params()-&gt;fromQuery(&#39;id&#39;, null);</span>
<span class=x>    $progress = new \Laminas\ProgressBar\Upload\SessionProgress();</span>
<span class=x>    return new \Laminas\View\Model\JsonModel($progress-&gt;getProgress($id));</span>
<span class=x>}</span>

<span class=x>// Returns JSON</span>
<span class=x>//{</span>
<span class=x>//    &quot;total&quot;    : 204800,</span>
<span class=x>//    &quot;current&quot;  : 10240,</span>
<span class=x>//    &quot;rate&quot;     : 1024,</span>
<span class=x>//    &quot;message&quot;  : &quot;10kB / 200kB&quot;,</span>
<span class=x>//    &quot;done&quot;     : false</span>
<span class=x>//}</span>
</pre></div></p>
<blockquote>
<h3>Performance overhead</h3>
<p>This is <em>not</em> the most efficient way of providing upload progress, since each
polling request must go through the Laminas bootstrap process. A better
example would be to use a standalone php file in the public folder that
bypasses the MVC bootstrapping and only uses the essential <code>Laminas\ProgressBar</code>
adapters.</p>
</blockquote>
<p>Back in our view template, we will add Javascript to perform the AJAX POST of
the form data, and to start a timeout interval for the progress polling. To keep
the example code relatively short, we are using the <a href="https://github.com/malsup/form">jQuery Form plugin</a>
to do the AJAX form POST. If your project uses a different JavaScript framework
(or none at all), this will hopefully at least illustrate the necessary
high-level logic that would need to be performed.</p>
<p> <div class=codehilite><pre><span></span><span class=cp>&lt;?php</span> <span class=c1>// File: upload-form.phtml</span>
      <span class=c1>// ...after the form...</span>
<span class=cp>?&gt;</span><span class=x></span>

<span class=x>&lt;!-- Twitter Bootstrap progress bar styles:</span>
<span class=x>     http://twitter.github.com/bootstrap/components.html#progress --&gt;</span>
<span class=x>&lt;div id=&quot;progress&quot; class=&quot;help-block&quot;&gt;</span>
<span class=x>    &lt;div class=&quot;progress progress-info progress-striped&quot;&gt;</span>
<span class=x>        &lt;div class=&quot;bar&quot;&gt;&lt;/div&gt;</span>
<span class=x>    &lt;/div&gt;</span>
<span class=x>    &lt;p&gt;&lt;/p&gt;</span>
<span class=x>&lt;/div&gt;</span>

<span class=x>&lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js&quot;&gt;&lt;/script&gt;</span>
<span class=x>&lt;script src=&quot;/js/jquery.form.js&quot;&gt;&lt;/script&gt;</span>
<span class=x>&lt;script&gt;</span>
<span class=x>var progressInterval;</span>

<span class=x>function getProgress() {</span>
<span class=x>    // Poll our controller action with the progress id</span>
<span class=x>    var url = &#39;/upload-form/upload-progress?id=&#39; + $(&#39;#progress_key&#39;).val();</span>
<span class=x>    $.getJSON(url, function(data) {</span>
<span class=x>        if (data.status &amp;&amp; !data.status.done) {</span>
<span class=x>            var value = Math.floor((data.status.current / data.status.total) * 100);</span>
<span class=x>            showProgress(value, &#39;Uploading...&#39;);</span>
<span class=x>        } else {</span>
<span class=x>            showProgress(100, &#39;Complete!&#39;);</span>
<span class=x>            clearInterval(progressInterval);</span>
<span class=x>        }</span>
<span class=x>    });</span>
<span class=x>}</span>

<span class=x>function startProgress() {</span>
<span class=x>    showProgress(0, &#39;Starting upload...&#39;);</span>
<span class=x>    progressInterval = setInterval(getProgress, 900);</span>
<span class=x>}</span>

<span class=x>function showProgress(amount, message) {</span>
<span class=x>    $(&#39;#progress&#39;).show();</span>
<span class=x>    $(&#39;#progress .bar&#39;).width(amount + &#39;%&#39;);</span>
<span class=x>    $(&#39;#progress &gt; p&#39;).html(message);</span>
<span class=x>    if (amount &lt; 100) {</span>
<span class=x>        $(&#39;#progress .progress&#39;)</span>
<span class=x>            .addClass(&#39;progress-info active&#39;)</span>
<span class=x>            .removeClass(&#39;progress-success&#39;);</span>
<span class=x>    } else {</span>
<span class=x>        $(&#39;#progress .progress&#39;)</span>
<span class=x>            .removeClass(&#39;progress-info active&#39;)</span>
<span class=x>            .addClass(&#39;progress-success&#39;);</span>
<span class=x>    }</span>
<span class=x>}</span>

<span class=x>$(function() {</span>
<span class=x>    // Register a &#39;submit&#39; event listener on the form to perform the AJAX POST</span>
<span class=x>    $(&#39;#upload-form&#39;).on(&#39;submit&#39;, function(e) {</span>
<span class=x>        e.preventDefault();</span>

<span class=x>        if ($(&#39;#image-file&#39;).val() == &#39;&#39;) {</span>
<span class=x>            // No files selected, abort</span>
<span class=x>            return;</span>
<span class=x>        }</span>

<span class=x>        // Perform the submit</span>
<span class=x>        //$.fn.ajaxSubmit.debug = true;</span>
<span class=x>        $(this).ajaxSubmit({</span>
<span class=x>            beforeSubmit: function(arr, $form, options) {</span>
<span class=x>                // Notify backend that submit is via ajax</span>
<span class=x>                arr.push({ name: &quot;isAjax&quot;, value: &quot;1&quot; });</span>
<span class=x>            },</span>
<span class=x>            success: function (response, statusText, xhr, $form) {</span>
<span class=x>                clearInterval(progressInterval);</span>
<span class=x>                showProgress(100, &#39;Complete!&#39;);</span>

<span class=x>                // TODO: You&#39;ll need to do some custom logic here to handle a successful</span>
<span class=x>                // form post, and when the form is invalid with validation errors.</span>
<span class=x>                if (response.status) {</span>
<span class=x>                    // TODO: Do something with a successful form post, like redirect</span>
<span class=x>                    // window.location.replace(response.redirect);</span>
<span class=x>                } else {</span>
<span class=x>                    // Clear the file input, otherwise the same file gets re-uploaded</span>
<span class=x>                    // http://stackoverflow.com/a/1043969</span>
<span class=x>                    var fileInput = $(&#39;#image-file&#39;);</span>
<span class=x>                    fileInput.replaceWith( fileInput.val(&#39;&#39;).clone( true ) );</span>

<span class=x>                    // TODO: Do something with these errors</span>
<span class=x>                    // showErrors(response.formErrors);</span>
<span class=x>                }</span>
<span class=x>            },</span>
<span class=x>            error: function(a, b, c) {</span>
<span class=x>                // NOTE: This callback is *not* called when the form is invalid.</span>
<span class=x>                // It is called when the browser is unable to initiate or complete the ajax submit.</span>
<span class=x>                // You will need to handle validation errors in the &#39;success&#39; callback.</span>
<span class=x>                console.log(a, b, c);</span>
<span class=x>            }</span>
<span class=x>        });</span>
<span class=x>        // Start the progress polling</span>
<span class=x>        startProgress();</span>
<span class=x>    });</span>
<span class=x>});</span>
<span class=x>&lt;/script&gt;</span>
</pre></div></p>
<p>And finally, our controller action can be modified to return form status and
validation messages in JSON format if we see the 'isAjax' post parameter (which
was set in the JavaScript just before submit):</p>
<p> <div class=codehilite><pre><span></span><span class=x>public function uploadFormAction()</span>
<span class=x>{</span>
<span class=x>    $form = new UploadForm(&#39;upload-form&#39;);</span>

<span class=x>    $request = $this-&gt;getRequest();</span>

<span class=x>    if (! $request-&gt;isPost()) {</span>
<span class=x>        return [&#39;form&#39; =&gt; $form];</span>
<span class=x>    }</span>

<span class=x>    // Make certain to merge the files info!</span>
<span class=x>    $post = array_merge_recursive(</span>
<span class=x>        $request-&gt;getPost()-&gt;toArray(),</span>
<span class=x>        $request-&gt;getFiles()-&gt;toArray()</span>
<span class=x>    );</span>

<span class=x>    $form-&gt;setData($post);</span>
<span class=x>    if ($form-&gt;isValid()) {</span>
<span class=x>        $data = $form-&gt;getData();</span>

<span class=x>        // Form is valid, save the form!</span>
<span class=x>        if (! empty($post[&#39;isAjax&#39;])) {</span>
<span class=x>            return new JsonModel(array(</span>
<span class=x>                &#39;status&#39;   =&gt; true,</span>
<span class=x>                &#39;redirect&#39; =&gt; $this-&gt;url()-&gt;fromRoute(&#39;upload-form/success&#39;),</span>
<span class=x>                &#39;formData&#39; =&gt; $data,</span>
<span class=x>            ));</span>
<span class=x>        }</span>

<span class=x>        // Fallback for non-JS clients</span>
<span class=x>        return $this-&gt;redirect()-&gt;toRoute(&#39;upload-form/success&#39;);</span>
<span class=x>    }</span>

<span class=x>    if (! empty($post[&#39;isAjax&#39;])) {</span>
<span class=x>        // Send back failure information via JSON</span>
<span class=x>        return new JsonModel([</span>
<span class=x>            &#39;status&#39;     =&gt; false,</span>
<span class=x>            &#39;formErrors&#39; =&gt; $form-&gt;getMessages(),</span>
<span class=x>            &#39;formData&#39;   =&gt; $form-&gt;getData(),</span>
<span class=x>        ]);</span>
<span class=x>    }</span>

<span class=x>    return array(&#39;form&#39; =&gt; $form);</span>
<span class=x>}</span>
</pre></div></p>
<h2 id="additional-info">Additional Info</h2>
<p>Related documentation:</p>
<ul>
<li><a href="../element/file/">Form File Element</a></li>
<li><a href="../helper/form-file/">Form File View Helper</a></li>
<li><a href="https://docs.laminas.dev/laminas-validator/validators/file/intro/">List of File Validators</a></li>
<li><a href="http://docs.laminas.dev/laminas-filter/file/">List of File Filters</a></li>
<li><a href="https://docs.laminas.dev/laminas-mvc-plugin-fileprg/">File Post-Redirect-Get Controller Plugin</a></li>
<li><a href="https://docs.laminas.dev/laminas-inputfilter/file-input/">Laminas\InputFilter\FileInput</a></li>
<li><a href="https://docs.laminas.dev/laminas-progressbar/upload/">Upload Progress Handlers</a></li>
<li><a href="../helper/upload-progress-helpers/">Upload Progress View Helpers</a></li>
</ul>
<p>External resources and blog posts from the community:</p>
<ul>
<li><a href="https://github.com/cgmartin/LaminasFileUploadExamples">LaminasFileUploadExamples</a> : A
  Laminas module with several file upload examples.</li>
</ul>




    <nav>
    <ul class="page-nav hidden-print">

        
        <li class="page-nav__item">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="../collections/">
                    <i class="fa fa-chevron-left"></i> Previous
                </a>
            
        </li>

        
        <li class="page-nav__item">
            
                <a rel="next" class="page-nav__link page-nav__link--next" href="../helper/intro/">
                    Next <i class="fa fa-chevron-right"></i>
                </a>
            
        </li>
    </ul>
</nav>




    <div class="help-wanted">
        <p>
            Found a mistake or want to contribute to the documentation?
            <a href="https://github.com/laminas/laminas-form/edit/master/docs/book/file-upload.md" target="_blank" class="help-wanted__link">
                Edit this page on GitHub!
            </a>
        </p>
    </div>

                
            </div>
            <div class="col-md-3 col-sm-12 sidebar">
                
                    <div class="component-selector">
    
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="..">laminas-form</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item ">
                                <a href="../intro/" class="subnavigation__link">Introduction</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item ">
                                <a href="../quick-start/" class="subnavigation__link">Quick Start</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">Reference</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Elements</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../element/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/element/" class="subnavigation__link">Element</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/button/" class="subnavigation__link">button</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/captcha/" class="subnavigation__link">CAPTCHA</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/checkbox/" class="subnavigation__link">checkbox</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/collection/" class="subnavigation__link">Collection</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/color/" class="subnavigation__link">color</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/csrf/" class="subnavigation__link">CSRF</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/date/" class="subnavigation__link">date</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/date-time/" class="subnavigation__link">datetime</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/date-time-local/" class="subnavigation__link">datetime-local</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/email/" class="subnavigation__link">email</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/file/" class="subnavigation__link">file</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/hidden/" class="subnavigation__link">hidden</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/image/" class="subnavigation__link">image</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/month/" class="subnavigation__link">month</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/month-select/" class="subnavigation__link">MonthSelect</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/multi-checkbox/" class="subnavigation__link">MultiCheckbox</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/number/" class="subnavigation__link">number</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/password/" class="subnavigation__link">password</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/radio/" class="subnavigation__link">radio</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/range/" class="subnavigation__link">range</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/search/" class="subnavigation__link">search</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/select/" class="subnavigation__link">select</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/submit/" class="subnavigation__link">submit</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/tel/" class="subnavigation__link">tel</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/text/" class="subnavigation__link">text</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/textarea/" class="subnavigation__link">textarea</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/time/" class="subnavigation__link">time</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/url/" class="subnavigation__link">url</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../element/week/" class="subnavigation__link">week</a>
    </li>

            
        </ul>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../collections/" class="subnavigation__link">Collections</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">File Uploads</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">View Helpers</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/intro/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/abstract-helper/" class="subnavigation__link">AbstractHelper</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-input/" class="subnavigation__link">formInput</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-element/" class="subnavigation__link">formElement</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-element-errors/" class="subnavigation__link">formElementErrors</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-label/" class="subnavigation__link">formLabel</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-row/" class="subnavigation__link">formRow</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-collection/" class="subnavigation__link">formCollection</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form/" class="subnavigation__link">form</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-button/" class="subnavigation__link">formButton</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-captcha/" class="subnavigation__link">formCaptcha</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-checkbox/" class="subnavigation__link">formCheckbox</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-color/" class="subnavigation__link">formColor</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-date/" class="subnavigation__link">formDate</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-date-time/" class="subnavigation__link">formDateTime</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-date-time-local/" class="subnavigation__link">formDateTimeLocal</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-email/" class="subnavigation__link">formEmail</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-file/" class="subnavigation__link">formFile</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-hidden/" class="subnavigation__link">formHidden</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-image/" class="subnavigation__link">formImage</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-month/" class="subnavigation__link">formMonth</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-month-select/" class="subnavigation__link">formMonthSelect</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-multicheckbox/" class="subnavigation__link">formMultiCheckbox</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-number/" class="subnavigation__link">formNumber</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-password/" class="subnavigation__link">formPassword</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-radio/" class="subnavigation__link">formRadio</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-range/" class="subnavigation__link">formRange</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-reset/" class="subnavigation__link">formReset</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-search/" class="subnavigation__link">formSearch</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-select/" class="subnavigation__link">formSelect</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-submit/" class="subnavigation__link">formSubmit</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-tel/" class="subnavigation__link">formTel</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-text/" class="subnavigation__link">formText</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-textarea/" class="subnavigation__link">formTextarea</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-time/" class="subnavigation__link">formTime</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-url/" class="subnavigation__link">formUrl</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-week/" class="subnavigation__link">formWeek</a>
    </li>

            
                
    <li class="subnavigation__list-item">
        <span class="subnavigation__headline">Upload Progress</span>
        <ul class="subnavigation__list">
            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/upload-progress-helpers/" class="subnavigation__link">Introduction</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-file-apc-progress/" class="subnavigation__link">formFileApcProgress</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-file-session-progress/" class="subnavigation__link">formFileSessionProgress</a>
    </li>

            
                
    <li class="subnavigation__list-item ">
        <a href="../helper/form-file-upload-progress/" class="subnavigation__link">formFileUploadProgress</a>
    </li>

            
        </ul>
    </li>

            
        </ul>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../advanced/" class="subnavigation__link">Advanced</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            
        </ul>
    </div>

                
            </div>
        </div>
    </div>

    
    <footer class="footer">
    <div class="container">

        
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-7 offset-md-2">
                <h5>Laminas</h5>
                <ul>
                    <li>Laminas Project <a href="https://getlaminas.org/">Components and MVC for Enterprise Applications</a></li>
                    <li>Mezzio <a href="https://docs.mezzio.dev/">PSR-15 Middleware in Minutes</a></li>
                    <li>Laminas API Tools: <a href="https://api-tools.getlaminas.org/">Build RESTful APIs in minutes</a></li>
                </ul>
            </div>
        </div>

        <div class="row">

            
            <div class="col-md-4 offset-md-2">
                <h4 class="footer__headline">Support</h4>
                <ul class="support__list">
                    <li class="support__list-item">
                        <a href="https://discourse.laminas.dev" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://laminas.dev/chat" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://github.com/laminas" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://twitter.com/getlaminas" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://getlaminas.org/blog/feed-rss.xml" class="support__link" title="Blog feed"><i class="fa fa-rss"></i></a>
                    </li>
                    <li class="support__list-item">
                        <a href="https://getlaminas.org/security/feed" class="support__link" title="Security feed"><i class="fa fa-rss-square"></i></a>
                    </li>
                </ul>
            </div>

            
            <div class="col-md-3">
                <h4 class="footer__headline">License</h4>
                <p>
                    Code licensed under <a
                        href="https://github.com/laminas/laminas-form//blob/master/LICENSE.md">BSD 3-Clause</a>.
                </p>
            </div>

            
            <div class="col-md-3">
                <h4 class="footer__headline">Copyright</h4>
                <p>
                    <!--Built with love by the Laminas team with the help of our
                    <a href="https://github.com/laminas/laminas-form//graphs/contributors">contributors</a>.<br>-->
                    &copy; 2019-2019 by <a href="https://getlaminas.org/">The Laminas Project</a>.
                </p>
            </div>
        </div>
    </div>
</footer>

    <script>
        let base_url = '..',
            project  = "components",
            siteName = 'laminas-form';
    </script>
    <script src="/js/scripts.js"></script>
        <script src="../search/main.js"></script>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Search</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search in laminas-form" id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
        </div>
    </div>
</div>
</body>


</html>
